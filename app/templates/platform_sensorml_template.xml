{% extends "base_sensorml_template.xml" %}

        {% block description %}{{super()}}{% endblock %}

        {% block identifiers %}{{super()}}{% endblock %}

        {% block classifiers %}{{super()}}{% endblock %}

        {% block documentation %}{{super()}}{% endblock %}

        {% block history %}
        <!-- ========================================================================= -->
        <!--                 History                                                  -->
        <!-- ========================================================================= -->
<sml:history>
    <sml:EventList>
        {% block mount_actions %}
        {% for action in obj.platform_mount_actions %}
        <!-- ========================================================================= -->
        <!--                 Mount action   id:{{action.id}}                                           -->
        <!-- ========================================================================= -->
        <sml:event>
            <sml:Event>
                <sml:classification>
                    <sml:ClassifierList>
                        <sml:classifier>
                            <sml:Term definition="Mount">
                                <sml:label>Mounted on {{action.configuration.label}}</sml:label>
                                <sml:value>MountAction</sml:value>
                            </sml:Term>
                        </sml:classifier>
                    </sml:ClassifierList>
                </sml:classification>
                <sml:attachedTo xlink:title="{{action.configuration.label}}"
                                xlink:href="URI of the configuration"/>
                <sml:attachedTo xlink:title="{{action.parent_platform.short_name}}"
                                xlink:href="URI of the parent_platform"/>
                <sml:time>
                    <gml:TimePeriod gml:id="TimePeriodForMountAction_{{action.id}}_of_{{gmlId}}">
                        <gml:description>{{action.description}}</gml:description>
                        <gml:begin>
                            <gml:TimeInstant>
                                <gml:timePosition>{{action.begin_date}}</gml:timePosition>
                            </gml:TimeInstant>
                        </gml:begin>
                        <gml:end>
                          {% if action.end_date %}
                          <gml:TimeInstant>
                              <gml:timePosition>{{action.end_date}}</gml:timePosition>
                          </gml:TimeInstant>
                          {% endif %}
                        </gml:end>
                    </gml:TimePeriod>
                </sml:time>
            </sml:Event>
        </sml:event>
        {% endfor %}
        {% endblock %}

        {% block generic_actions %}
        {% for action in obj.generic_platform_actions %}
        <!-- ========================================================================= -->
        <!--                 Generic actions:{{action.action_type_name}} id:{{action.id}} -->
        <!-- ========================================================================= -->
        <sml:event>
            <sml:Event>
                <sml:classification>
                    <sml:ClassifierList>
                        <sml:classifier>
                            <sml:Term definition="{{action.action_type_uri}}">
                                <sml:label>{{action.action_type_name}}</sml:label>
                                <sml:value>{{action.action_type_name}}</sml:value>
                            </sml:Term>
                        </sml:classifier>
                    </sml:ClassifierList>
                </sml:classification>
                <sml:time>
                    <gml:TimePeriod
                            gml:id="TimePeriodFor{{action.action_type_name.replace(' ', '')}}_{{action.id}}_of_{{gmlId}}">
                        <gml:description>{{action.description}}</gml:description>
                        <gml:begin>
                            <gml:TimeInstant>
                                <gml:timePosition>{{action.begin_date}}</gml:timePosition>
                            </gml:TimeInstant>
                        </gml:begin>
                        <gml:end>
                            {% if action.end_date %}
                            <gml:TimeInstant>
                                <gml:timePosition>{{action.end_date}}</gml:timePosition>
                            </gml:TimeInstant>
                            {% endif %}
                        </gml:end>
                    </gml:TimePeriod>
                </sml:time>
            </sml:Event>
        </sml:event>
        {% endfor %}
        {% endblock %}
        {% block software_update_actions %}
        {% for action in obj.platform_software_update_actions %}
        <!-- ========================================================================= -->
        <!--                 Software Update actions    id:{{action.id}}             -->
        <!-- ========================================================================= -->
        <sml:event>
            <sml:Event>
                <sml:classification>
                    <sml:ClassifierList>
                        <sml:classifier>
                            <sml:Term definition="{{action.software_type_uri}}">
                                <sml:label>{{action.software_type_name}}</sml:label>
                                <sml:value>{{action.software_type_name}}</sml:value>
                            </sml:Term>
                        </sml:classifier>
                    </sml:ClassifierList>
                </sml:classification>
                <sml:time>
                    <gml:TimePeriod
                            gml:id="TimePeriodFor{{action.software_type_name.replace(' ', '')}}_{{action.id}}_of_{{gmlId}}">
                        <gml:description>{{action.description}}</gml:description>
                        <gml:begin>
                            <gml:TimeInstant>
                                <gml:timePosition>{{action.update_date}}</gml:timePosition>
                            </gml:TimeInstant>
                        </gml:begin>
                    </gml:TimePeriod>
                </sml:time>
            </sml:Event>
        </sml:event>
        {% endfor %}
        {% endblock %}
        {{super()}}
    </sml:EventList>
</sml:history>
        {% endblock %}
